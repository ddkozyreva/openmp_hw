# Практикум по суперкомпьютерному моделированию

1.3. (eigenvector.cpp) Функция eigenvalue вычисляет максимальное по модулю
собственное значение матрицы. 

- Скомпилировать представленную программу для вычислительной задачи на
кластере, запустить через систему очередей. Определить размер входных
данных, при котором в однопоточном режиме время выполнения составляет 5-
10 секунд (1 балл)
- Сделать параллельную версию программы с использованием технологии
OpenMP. Скомпилировать и запустить задачу в многопоточном режиме с числом
потоков от 2 до 32 (не менее 4 запусков). Убедиться, что параллельная версия
программы выдает одинаковый результат при любом числе потоков (1 балл).
- Получить зависимость производительности от числа потоков при условии, что
число процессорных ядер и потоков равно (сильная масштабируемость) (1 балл).
### Решение

___

## 2.2а.
### Условие
Задача оценивает число π методом Бюффона: генерируется отрезок длины 1, середина
которого находится в начале координат, повернутый под случайным углом, и горизонтальная
прямая y=y0, где y0 случайно равномерно распределена на интервале [-1; 1). Вероятность
пересечения отрезка с этой прямой равна 1/π (см.
https://ru.wikipedia.org/wiki/Задача_Бюффона_о_бросании_иглы). Параллельная версия плохо
масштабируется, а также результат не сходится к теоретическому значению при увеличении
числа сгенерированных случайных чисел. Исправить функцию mc_pi.

- Объяснить и исправить ошибки, допущенные при параллелизации задачи (1 балл
за каждый номер).
- Определить размер входных данных, при котором в однопоточном режиме время
выполнения составляет 5-10 секунд. Убедиться, что параллельная версия
ускоряется на числе потоков больше двух, а также выдает одинаковый результат
при любом числе потоков. (0.5 балла за каждую задачу).
### Решение

___
## 2.3б. 

(fourier.cpp) Программа вычисляет косинусное дискретное преобразование Фурье
массива по наивному алгоритму с квадратичной сложностью. При увеличении числа потоков
результат отличается от OMP_NUM_THREADS=1. Исправить функцию fourier

- Объяснить и исправить ошибки, допущенные при параллелизации задачи (1 балл
за каждый номер).
- Определить размер входных данных, при котором в однопоточном режиме время
выполнения составляет 5-10 секунд. Убедиться, что параллельная версия
ускоряется на числе потоков больше двух, а также выдает одинаковый результат
при любом числе потоков. (0.5 балла за каждую задачу).
### Решение

___

## 3.1.
(newton_omp.cpp) Программа генерирует случайные координаты и массы точечных
частиц и вычисляет максимальную силу между парами частиц. При увеличении числа
потоков наблюдается низкая эффективность параллелизации.

- Для приведенной программы определить размер задачи, при котором в
однопоточном режиме время выполнения составляет 5-10 секунд. Определить
эффективность распараллеливания в зависимости от числа потоков (не менее 4
запусков, число потоков не более 32) (0.5 балла).
- Объяснить причину низкой эффективности распараллеливания (0.5 балла).
- Проанализировать производительность задачи в зависимости от числа потоков
(не менее 4 запусков, число потоков не более 32) при динамическом
распределении итераций с разными размерами динамически распределяемых
блоков (для размеров блоков можно взять степени двойки - schedule(dynamic,
2^k) ) (1 балл)

### Решение